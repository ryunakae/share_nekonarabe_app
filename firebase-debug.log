[debug] [2021-02-24T10:17:38.604Z] ----------------------------------------------------------------------
[debug] [2021-02-24T10:17:38.605Z] Command:       /usr/local/bin/node /usr/local/bin/firebase emulators:start
[debug] [2021-02-24T10:17:38.606Z] CLI Version:   9.4.0
[debug] [2021-02-24T10:17:38.606Z] Platform:      darwin
[debug] [2021-02-24T10:17:38.606Z] Node Version:  v14.15.1
[debug] [2021-02-24T10:17:38.611Z] Time:          Wed Feb 24 2021 19:17:38 GMT+0900 (日本標準時)
[debug] [2021-02-24T10:17:38.611Z] ----------------------------------------------------------------------
[debug] [2021-02-24T10:17:38.611Z] 
[debug] [2021-02-24T10:17:38.614Z] >>> [apiv2][query] GET https://firebase-public.firebaseio.com/cli.json [none]
[debug] [2021-02-24T10:17:38.633Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2021-02-24T10:17:38.634Z] > authorizing via signed-in user
[info] i  emulators: Starting emulators: auth, firestore, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: auth, firestore, hosting"}}
[debug] [2021-02-24T10:17:38.673Z] [hub] writing locator at /var/folders/nt/q7l7c29n5bqg5lz0kv1lyy5h0000gn/T/hub-nekonarabe-app.json
[debug] [2021-02-24T10:17:38.782Z] Ignoring unsupported arg: projectId {"metadata":{"emulator":{"name":"firestore"},"message":"Ignoring unsupported arg: projectId"}}
[debug] [2021-02-24T10:17:38.782Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"firestore"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2021-02-24T10:17:38.782Z] Starting Firestore Emulator with command {"binary":"java","args":["-Dgoogle.cloud_firestore.debug_log_level=FINE","-Duser.language=en","-jar","/Users/ryunakae/.cache/firebase/emulators/cloud-firestore-emulator-v1.11.12.jar","--host","localhost","--port",8080,"--rules","/Users/ryunakae/Documents/work/official_nekonarabe-app/firestore.rules"],"optionalArgs":["port","webchannel_port","host","rules","functions_emulator","seed_from_export"],"joinArgs":false} {"metadata":{"emulator":{"name":"firestore"},"message":"Starting Firestore Emulator with command {\"binary\":\"java\",\"args\":[\"-Dgoogle.cloud_firestore.debug_log_level=FINE\",\"-Duser.language=en\",\"-jar\",\"/Users/ryunakae/.cache/firebase/emulators/cloud-firestore-emulator-v1.11.12.jar\",\"--host\",\"localhost\",\"--port\",8080,\"--rules\",\"/Users/ryunakae/Documents/work/official_nekonarabe-app/firestore.rules\"],\"optionalArgs\":[\"port\",\"webchannel_port\",\"host\",\"rules\",\"functions_emulator\",\"seed_from_export\"],\"joinArgs\":false}"}}
[info] i  firestore: Firestore Emulator logging to firestore-debug.log {"metadata":{"emulator":{"name":"firestore"},"message":"Firestore Emulator logging to \u001b[1mfirestore-debug.log\u001b[22m"}}
[debug] [2021-02-24T10:17:39.312Z] <<< [apiv2][status] GET https://firebase-public.firebaseio.com/cli.json 200
[debug] [2021-02-24T10:17:39.312Z] <<< [apiv2][body] GET https://firebase-public.firebaseio.com/cli.json {"cloudBuildErrorAfter":1594252800000,"cloudBuildWarnAfter":1590019200000,"defaultNode10After":1594252800000,"minVersion":"3.0.5","node8DeploysDisabledAfter":1613390400000,"node8RuntimeDisabledAfter":1615809600000,"node8WarnAfter":1600128000000}
[debug] [2021-02-24T10:17:41.081Z] API endpoint: http://localhost {"metadata":{"emulator":{"name":"firestore"},"message":"API endpoint: http://localhost"}}
[debug] [2021-02-24T10:17:41.082Z] :8080
If you are using a library that supports the FIRESTORE_EMULATOR_HOST environment variable, run:

   export FIRESTORE_EMULATOR_HOST=localhost:8080

Dev App Server is now running.

 {"metadata":{"emulator":{"name":"firestore"},"message":":8080\nIf you are using a library that supports the FIRESTORE_EMULATOR_HOST environment variable, run:\n\n   export FIRESTORE_EMULATOR_HOST=localhost:8080\n\nDev App Server is now running.\n\n"}}
[debug] [2021-02-24T10:17:43.097Z] > refreshing access token with scopes: []
[debug] [2021-02-24T10:17:43.098Z] >>> HTTP REQUEST POST https://www.googleapis.com/oauth2/v3/token  
 <request body omitted>
[debug] [2021-02-24T10:17:43.359Z] <<< HTTP RESPONSE 200 {"date":"Wed, 24 Feb 2021 10:17:44 GMT","expires":"Mon, 01 Jan 1990 00:00:00 GMT","cache-control":"no-cache, no-store, max-age=0, must-revalidate","pragma":"no-cache","content-type":"application/json; charset=utf-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-02-24T10:17:43.374Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/nekonarabe-app/webApps/-/config [none]
[debug] [2021-02-24T10:17:45.003Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/nekonarabe-app/webApps/-/config 200
[debug] [2021-02-24T10:17:45.004Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/nekonarabe-app/webApps/-/config {"projectId":"nekonarabe-app","appId":"1:895709569330:web:133dae20325d99ce2e372b","storageBucket":"nekonarabe-app.appspot.com","locationId":"asia-northeast1","apiKey":"AIzaSyA9dcIlI2Fvh-yh84iVOzE3QzPRHxv3-F8","authDomain":"nekonarabe-app.firebaseapp.com","messagingSenderId":"895709569330","measurementId":"G-62YLEDPNLP"}
[info] i  hosting: Serving hosting files from: dist {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mdist\u001b[22m"}}
[info] ✔  hosting: Local server: http://localhost:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://localhost:5000\u001b[22m\u001b[24m"}}
[debug] [2021-02-24T10:17:45.306Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2021-02-24T10:17:45.306Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2021-02-24T10:17:45.307Z] Starting Emulator UI with command {"binary":"node","args":["/Users/ryunakae/.cache/firebase/emulators/ui-v1.4.1/server.bundle.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/Users/ryunakae/.cache/firebase/emulators/ui-v1.4.1/server.bundle.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2021-02-24T10:17:45.394Z] Web / API server started at http://localhost:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at http://localhost:4000\n"}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://localhost:4000                │
└─────────────────────────────────────────────────────────────┘

┌────────────────┬────────────────┬─────────────────────────────────┐
│ Emulator       │ Host:Port      │ View in Emulator UI             │
├────────────────┼────────────────┼─────────────────────────────────┤
│ Authentication │ localhost:9099 │ http://localhost:4000/auth      │
├────────────────┼────────────────┼─────────────────────────────────┤
│ Firestore      │ localhost:8080 │ http://localhost:4000/firestore │
├────────────────┼────────────────┼─────────────────────────────────┤
│ Hosting        │ localhost:5000 │ n/a                             │
└────────────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at localhost:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[info] i  firestore: Change detected, updating rules... 
[debug] [2021-02-24T10:18:24.012Z] >>> HTTP REQUEST PUT http://localhost:8080/emulator/v1/projects/nekonarabe-app:securityRules  
 {"ignore_errors":true,"rules":{"files":[{"name":"security.rules","content":"rules_version = '2';\nservice cloud.firestore {\n  match /databases/{database}/documents {\n    match /{document=**} {\n      allow read, write: if false\n    }\n\n    match /cards/{cardId} {\n      function isCardInTheEnumFront() {\n        return request.resource.data.front in [\"h_ead\",\"p_ink\",\"w_ater\",\"a_lmighty\"];\n      }\n      function isCardInTheEnumBack() {\n        return request.resource.data.back in [\"t_ail\",\"p_ink\",\"w_ater\",\"a_lmighty\",\"h_ead\"];\n      }\n      function isCardInTheEnumCardType() {\n        return request.resource.data.cardType in [\"r_ibbon\",\"b_uchi\",\"s_hima\",\"f_ish\",\"d_okan\"];\n      }\n      function isEqualIDZero() {\n        return request.resource.id.split('_')[0] == \"0\"\n      }\n      function isEqualPointsZero() {\n        return request.resource.data.points == 0\n      }\n      function isEqualIDOne() {\n        return request.resource.id.split('_')[0] == \"1\"\n      }\n      function isEqualPointsOne() {\n        return request.resource.data.points == 1\n      }\n      function isEqualIDTwo() {\n        return request.resource.id.split('_')[0] == \"2\"\n      }\n      function isEqualPointsTwo() {\n        return request.resource.data.points == 2\n      }\n      function isEqualPointsAndID() {\n        return (isEqualIDZero() && isEqualPointsZero()) || (isEqualIDOne() && isEqualPointsOne()) || (isEqualIDTwo() && isEqualPointsTwo())\n      }\n      function isEqualFrontAndID() {\n        return request.resource.id.split('_')[1] == request.resource.data.front.split('_')[0]\n      }\n      function isEqualBackAndID() {\n        return request.resource.id.split('_')[2] == request.resource.data.back.split('_')[0]\n      }\n      function isEqualCardTypeAndID() {\n        return request.resource.id.split('_')[3] == request.resource.data.cardType.split('_')[0]\n      }\n      function isTrueInitiality() {\n        return request.resource.data.initiality == true\n      }\n      function isFalseInitiality() {\n        return request.resource.data.initiality == false\n      }\n      function hasCorrectInitiality() {\n        return (isTrueInitiality() && request.resource.id.split('_')[4] == \"i\") || (isFalseInitiality() && request.resource.id.split('_')[4] == \"n\")\n      }\n      function isSuccessfulCard() {\n        return isCardInTheEnumFront() && isCardInTheEnumBack() && isCardInTheEnumCardType() && isEqualPointsAndID() && isEqualFrontAndID() && isEqualBackAndID() && isEqualCardTypeAndID() && hasCorrectInitiality()\n      }\n\n      allow read: if true\n      allow create: if isSuccessfulCard()\n    }\n\n    match /tables/{tableId} {\n    \n      function isSuccessfulTable() {\n        return true\n      }\n      function isAllowedChangeForTable() {\n        return true\n      }\n\n      allow read: if true\n      allow create: if isSuccessfulTable()\n      allow update: if isSuccessfulTable() && isAllowedChangeForTable()\n      \n      match /deck/{deckCardId} {\n        function isSuccessfulDeckCard() {\n          return true\n        }\n\n        allow read: if true\n        allow create: if isSuccessfulDeckCard()\n      }\n\n      match /players/{prayerId} {\n        function isSuccessfulP() {\n          return true\n        }\n\n        allow read: if true\n        allow create: if isSuccessfulDeckCard()\n    }\n  }\n}"}]}}
[debug] [2021-02-24T10:18:24.046Z] Feb 24, 2021 7:18:24 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Feb 24, 2021 7:18:24 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2021-02-24T10:18:24.256Z] Feb 24, 2021 7:18:24 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Feb 24, 2021 7:18:24 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected HTTP/2 connection.\n"}}
[debug] [2021-02-24T10:18:25.267Z] <<< HTTP RESPONSE 200 {"content-type":"application/json","content-length":"480"}
[warn] ⚠  firestore.rules:96:2 - ERROR Unexpected '<EOF>'. 
[warn] ⚠  firestore.rules:96:2 - ERROR missing '}' at '<EOF>' 
[info] ✔  firestore: Rules updated. 
[info] i  firestore: Change detected, updating rules... 
[debug] [2021-02-24T10:18:26.230Z] >>> HTTP REQUEST PUT http://localhost:8080/emulator/v1/projects/nekonarabe-app:securityRules  
 {"ignore_errors":true,"rules":{"files":[{"name":"security.rules","content":"rules_version = '2';\nservice cloud.firestore {\n  match /databases/{database}/documents {\n    match /{document=**} {\n      allow read, write: if false\n    }\n\n    match /cards/{cardId} {\n      function isCardInTheEnumFront() {\n        return request.resource.data.front in [\"h_ead\",\"p_ink\",\"w_ater\",\"a_lmighty\"];\n      }\n      function isCardInTheEnumBack() {\n        return request.resource.data.back in [\"t_ail\",\"p_ink\",\"w_ater\",\"a_lmighty\",\"h_ead\"];\n      }\n      function isCardInTheEnumCardType() {\n        return request.resource.data.cardType in [\"r_ibbon\",\"b_uchi\",\"s_hima\",\"f_ish\",\"d_okan\"];\n      }\n      function isEqualIDZero() {\n        return request.resource.id.split('_')[0] == \"0\"\n      }\n      function isEqualPointsZero() {\n        return request.resource.data.points == 0\n      }\n      function isEqualIDOne() {\n        return request.resource.id.split('_')[0] == \"1\"\n      }\n      function isEqualPointsOne() {\n        return request.resource.data.points == 1\n      }\n      function isEqualIDTwo() {\n        return request.resource.id.split('_')[0] == \"2\"\n      }\n      function isEqualPointsTwo() {\n        return request.resource.data.points == 2\n      }\n      function isEqualPointsAndID() {\n        return (isEqualIDZero() && isEqualPointsZero()) || (isEqualIDOne() && isEqualPointsOne()) || (isEqualIDTwo() && isEqualPointsTwo())\n      }\n      function isEqualFrontAndID() {\n        return request.resource.id.split('_')[1] == request.resource.data.front.split('_')[0]\n      }\n      function isEqualBackAndID() {\n        return request.resource.id.split('_')[2] == request.resource.data.back.split('_')[0]\n      }\n      function isEqualCardTypeAndID() {\n        return request.resource.id.split('_')[3] == request.resource.data.cardType.split('_')[0]\n      }\n      function isTrueInitiality() {\n        return request.resource.data.initiality == true\n      }\n      function isFalseInitiality() {\n        return request.resource.data.initiality == false\n      }\n      function hasCorrectInitiality() {\n        return (isTrueInitiality() && request.resource.id.split('_')[4] == \"i\") || (isFalseInitiality() && request.resource.id.split('_')[4] == \"n\")\n      }\n      function isSuccessfulCard() {\n        return isCardInTheEnumFront() && isCardInTheEnumBack() && isCardInTheEnumCardType() && isEqualPointsAndID() && isEqualFrontAndID() && isEqualBackAndID() && isEqualCardTypeAndID() && hasCorrectInitiality()\n      }\n\n      allow read: if true\n      allow create: if isSuccessfulCard()\n    }\n\n    match /tables/{tableId} {\n    \n      function isSuccessfulTable() {\n        return true\n      }\n      function isAllowedChangeForTable() {\n        return true\n      }\n\n      allow read: if true\n      allow create: if isSuccessfulTable()\n      allow update: if isSuccessfulTable() && isAllowedChangeForTable()\n      \n      match /deck/{deckCardId} {\n        function isSuccessfulDeckCard() {\n          return true\n        }\n\n        allow read: if true\n        allow create: if isSuccessfulDeckCard()\n      }\n\n      match /players/{prayerId} {\n        function isSuccessfulPlay() {\n          return true\n        }\n\n        allow read: if true\n        allow create: if isSuccessfulDeckCard()\n    }\n  }\n}"}]}}
[debug] [2021-02-24T10:18:26.242Z] Feb 24, 2021 7:18:26 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Feb 24, 2021 7:18:26 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2021-02-24T10:18:26.324Z] <<< HTTP RESPONSE 200 {"content-type":"application/json","content-length":"480"}
[warn] ⚠  firestore.rules:96:2 - ERROR Unexpected '<EOF>'. 
[warn] ⚠  firestore.rules:96:2 - ERROR missing '}' at '<EOF>' 
[info] ✔  firestore: Rules updated. 
[info] i  firestore: Change detected, updating rules... 
[debug] [2021-02-24T10:18:27.601Z] >>> HTTP REQUEST PUT http://localhost:8080/emulator/v1/projects/nekonarabe-app:securityRules  
 {"ignore_errors":true,"rules":{"files":[{"name":"security.rules","content":"rules_version = '2';\nservice cloud.firestore {\n  match /databases/{database}/documents {\n    match /{document=**} {\n      allow read, write: if false\n    }\n\n    match /cards/{cardId} {\n      function isCardInTheEnumFront() {\n        return request.resource.data.front in [\"h_ead\",\"p_ink\",\"w_ater\",\"a_lmighty\"];\n      }\n      function isCardInTheEnumBack() {\n        return request.resource.data.back in [\"t_ail\",\"p_ink\",\"w_ater\",\"a_lmighty\",\"h_ead\"];\n      }\n      function isCardInTheEnumCardType() {\n        return request.resource.data.cardType in [\"r_ibbon\",\"b_uchi\",\"s_hima\",\"f_ish\",\"d_okan\"];\n      }\n      function isEqualIDZero() {\n        return request.resource.id.split('_')[0] == \"0\"\n      }\n      function isEqualPointsZero() {\n        return request.resource.data.points == 0\n      }\n      function isEqualIDOne() {\n        return request.resource.id.split('_')[0] == \"1\"\n      }\n      function isEqualPointsOne() {\n        return request.resource.data.points == 1\n      }\n      function isEqualIDTwo() {\n        return request.resource.id.split('_')[0] == \"2\"\n      }\n      function isEqualPointsTwo() {\n        return request.resource.data.points == 2\n      }\n      function isEqualPointsAndID() {\n        return (isEqualIDZero() && isEqualPointsZero()) || (isEqualIDOne() && isEqualPointsOne()) || (isEqualIDTwo() && isEqualPointsTwo())\n      }\n      function isEqualFrontAndID() {\n        return request.resource.id.split('_')[1] == request.resource.data.front.split('_')[0]\n      }\n      function isEqualBackAndID() {\n        return request.resource.id.split('_')[2] == request.resource.data.back.split('_')[0]\n      }\n      function isEqualCardTypeAndID() {\n        return request.resource.id.split('_')[3] == request.resource.data.cardType.split('_')[0]\n      }\n      function isTrueInitiality() {\n        return request.resource.data.initiality == true\n      }\n      function isFalseInitiality() {\n        return request.resource.data.initiality == false\n      }\n      function hasCorrectInitiality() {\n        return (isTrueInitiality() && request.resource.id.split('_')[4] == \"i\") || (isFalseInitiality() && request.resource.id.split('_')[4] == \"n\")\n      }\n      function isSuccessfulCard() {\n        return isCardInTheEnumFront() && isCardInTheEnumBack() && isCardInTheEnumCardType() && isEqualPointsAndID() && isEqualFrontAndID() && isEqualBackAndID() && isEqualCardTypeAndID() && hasCorrectInitiality()\n      }\n\n      allow read: if true\n      allow create: if isSuccessfulCard()\n    }\n\n    match /tables/{tableId} {\n    \n      function isSuccessfulTable() {\n        return true\n      }\n      function isAllowedChangeForTable() {\n        return true\n      }\n\n      allow read: if true\n      allow create: if isSuccessfulTable()\n      allow update: if isSuccessfulTable() && isAllowedChangeForTable()\n      \n      match /deck/{deckCardId} {\n        function isSuccessfulDeckCard() {\n          return true\n        }\n\n        allow read: if true\n        allow create: if isSuccessfulDeckCard()\n      }\n\n      match /players/{prayerId} {\n        function isSuccessfulPlayer() {\n          return true\n        }\n\n        allow read: if true\n        allow create: if isSuccessfulDeckCard()\n    }\n  }\n}"}]}}
[debug] [2021-02-24T10:18:27.606Z] Feb 24, 2021 7:18:27 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Feb 24, 2021 7:18:27 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2021-02-24T10:18:27.695Z] <<< HTTP RESPONSE 200 {"content-type":"application/json","content-length":"480"}
[warn] ⚠  firestore.rules:96:2 - ERROR Unexpected '<EOF>'. 
[warn] ⚠  firestore.rules:96:2 - ERROR missing '}' at '<EOF>' 
[info] ✔  firestore: Rules updated. 
[info] i  firestore: Change detected, updating rules... 
[debug] [2021-02-24T10:18:36.361Z] >>> HTTP REQUEST PUT http://localhost:8080/emulator/v1/projects/nekonarabe-app:securityRules  
 {"ignore_errors":true,"rules":{"files":[{"name":"security.rules","content":"rules_version = '2';\nservice cloud.firestore {\n  match /databases/{database}/documents {\n    match /{document=**} {\n      allow read, write: if false\n    }\n\n    match /cards/{cardId} {\n      function isCardInTheEnumFront() {\n        return request.resource.data.front in [\"h_ead\",\"p_ink\",\"w_ater\",\"a_lmighty\"];\n      }\n      function isCardInTheEnumBack() {\n        return request.resource.data.back in [\"t_ail\",\"p_ink\",\"w_ater\",\"a_lmighty\",\"h_ead\"];\n      }\n      function isCardInTheEnumCardType() {\n        return request.resource.data.cardType in [\"r_ibbon\",\"b_uchi\",\"s_hima\",\"f_ish\",\"d_okan\"];\n      }\n      function isEqualIDZero() {\n        return request.resource.id.split('_')[0] == \"0\"\n      }\n      function isEqualPointsZero() {\n        return request.resource.data.points == 0\n      }\n      function isEqualIDOne() {\n        return request.resource.id.split('_')[0] == \"1\"\n      }\n      function isEqualPointsOne() {\n        return request.resource.data.points == 1\n      }\n      function isEqualIDTwo() {\n        return request.resource.id.split('_')[0] == \"2\"\n      }\n      function isEqualPointsTwo() {\n        return request.resource.data.points == 2\n      }\n      function isEqualPointsAndID() {\n        return (isEqualIDZero() && isEqualPointsZero()) || (isEqualIDOne() && isEqualPointsOne()) || (isEqualIDTwo() && isEqualPointsTwo())\n      }\n      function isEqualFrontAndID() {\n        return request.resource.id.split('_')[1] == request.resource.data.front.split('_')[0]\n      }\n      function isEqualBackAndID() {\n        return request.resource.id.split('_')[2] == request.resource.data.back.split('_')[0]\n      }\n      function isEqualCardTypeAndID() {\n        return request.resource.id.split('_')[3] == request.resource.data.cardType.split('_')[0]\n      }\n      function isTrueInitiality() {\n        return request.resource.data.initiality == true\n      }\n      function isFalseInitiality() {\n        return request.resource.data.initiality == false\n      }\n      function hasCorrectInitiality() {\n        return (isTrueInitiality() && request.resource.id.split('_')[4] == \"i\") || (isFalseInitiality() && request.resource.id.split('_')[4] == \"n\")\n      }\n      function isSuccessfulCard() {\n        return isCardInTheEnumFront() && isCardInTheEnumBack() && isCardInTheEnumCardType() && isEqualPointsAndID() && isEqualFrontAndID() && isEqualBackAndID() && isEqualCardTypeAndID() && hasCorrectInitiality()\n      }\n\n      allow read: if true\n      allow create: if isSuccessfulCard()\n    }\n\n    match /tables/{tableId} {\n    \n      function isSuccessfulTable() {\n        return true\n      }\n      function isAllowedChangeForTable() {\n        return true\n      }\n\n      allow read: if true\n      allow create: if isSuccessfulTable()\n      allow update: if isSuccessfulTable() && isAllowedChangeForTable()\n      \n      match /deck/{deckCardId} {\n        function isSuccessfulDeckCard() {\n          return true\n        }\n\n        allow read: if true\n        allow create: if isSuccessfulDeckCard()\n      }\n\n      match /players/{prayerId} {\n        function isSuccessfulPlayer() {\n          return true\n        }\n\n        allow read: if true\n        allow create: if isSuccessfulPlayer()\n    }\n  }\n}"}]}}
[debug] [2021-02-24T10:18:36.373Z] Feb 24, 2021 7:18:36 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Feb 24, 2021 7:18:36 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2021-02-24T10:18:36.425Z] <<< HTTP RESPONSE 200 {"content-type":"application/json","content-length":"480"}
[warn] ⚠  firestore.rules:96:2 - ERROR Unexpected '<EOF>'. 
[warn] ⚠  firestore.rules:96:2 - ERROR missing '}' at '<EOF>' 
[info] ✔  firestore: Rules updated. 
[info] i  firestore: Change detected, updating rules... 
[debug] [2021-02-24T10:18:44.796Z] >>> HTTP REQUEST PUT http://localhost:8080/emulator/v1/projects/nekonarabe-app:securityRules  
 {"ignore_errors":true,"rules":{"files":[{"name":"security.rules","content":"rules_version = '2';\nservice cloud.firestore {\n  match /databases/{database}/documents {\n    match /{document=**} {\n      allow read, write: if false\n    }\n\n    match /cards/{cardId} {\n      function isCardInTheEnumFront() {\n        return request.resource.data.front in [\"h_ead\",\"p_ink\",\"w_ater\",\"a_lmighty\"];\n      }\n      function isCardInTheEnumBack() {\n        return request.resource.data.back in [\"t_ail\",\"p_ink\",\"w_ater\",\"a_lmighty\",\"h_ead\"];\n      }\n      function isCardInTheEnumCardType() {\n        return request.resource.data.cardType in [\"r_ibbon\",\"b_uchi\",\"s_hima\",\"f_ish\",\"d_okan\"];\n      }\n      function isEqualIDZero() {\n        return request.resource.id.split('_')[0] == \"0\"\n      }\n      function isEqualPointsZero() {\n        return request.resource.data.points == 0\n      }\n      function isEqualIDOne() {\n        return request.resource.id.split('_')[0] == \"1\"\n      }\n      function isEqualPointsOne() {\n        return request.resource.data.points == 1\n      }\n      function isEqualIDTwo() {\n        return request.resource.id.split('_')[0] == \"2\"\n      }\n      function isEqualPointsTwo() {\n        return request.resource.data.points == 2\n      }\n      function isEqualPointsAndID() {\n        return (isEqualIDZero() && isEqualPointsZero()) || (isEqualIDOne() && isEqualPointsOne()) || (isEqualIDTwo() && isEqualPointsTwo())\n      }\n      function isEqualFrontAndID() {\n        return request.resource.id.split('_')[1] == request.resource.data.front.split('_')[0]\n      }\n      function isEqualBackAndID() {\n        return request.resource.id.split('_')[2] == request.resource.data.back.split('_')[0]\n      }\n      function isEqualCardTypeAndID() {\n        return request.resource.id.split('_')[3] == request.resource.data.cardType.split('_')[0]\n      }\n      function isTrueInitiality() {\n        return request.resource.data.initiality == true\n      }\n      function isFalseInitiality() {\n        return request.resource.data.initiality == false\n      }\n      function hasCorrectInitiality() {\n        return (isTrueInitiality() && request.resource.id.split('_')[4] == \"i\") || (isFalseInitiality() && request.resource.id.split('_')[4] == \"n\")\n      }\n      function isSuccessfulCard() {\n        return isCardInTheEnumFront() && isCardInTheEnumBack() && isCardInTheEnumCardType() && isEqualPointsAndID() && isEqualFrontAndID() && isEqualBackAndID() && isEqualCardTypeAndID() && hasCorrectInitiality()\n      }\n\n      allow read: if true\n      allow create: if isSuccessfulCard()\n    }\n\n    match /tables/{tableId} {\n    \n      function isSuccessfulTable() {\n        return true\n      }\n      function isAllowedChangeForTable() {\n        return true\n      }\n\n      allow read: if true\n      allow create: if isSuccessfulTable()\n      allow update: if isSuccessfulTable() && isAllowedChangeForTable()\n      \n      match /deck/{deckCardId} {\n        function isSuccessfulDeckCard() {\n          return true\n        }\n\n        allow read: if true\n        allow create: if isSuccessfulDeckCard()\n      }\n\n      match /players/{prayerId} {\n        function isSuccessfulPlayer() {\n          return true\n        }\n\n        allow read: if true\n        allow create: if isSuccessfulPlayer()\n        \n    }\n  }\n}"}]}}
[debug] [2021-02-24T10:18:44.809Z] Feb 24, 2021 7:18:44 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Feb 24, 2021 7:18:44 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2021-02-24T10:18:44.884Z] <<< HTTP RESPONSE 200 {"content-type":"application/json","content-length":"480"}
[warn] ⚠  firestore.rules:97:2 - ERROR Unexpected '<EOF>'. 
[warn] ⚠  firestore.rules:97:2 - ERROR missing '}' at '<EOF>' 
[info] ✔  firestore: Rules updated. 
[info] i  firestore: Change detected, updating rules... 
[debug] [2021-02-24T10:18:46.088Z] >>> HTTP REQUEST PUT http://localhost:8080/emulator/v1/projects/nekonarabe-app:securityRules  
 {"ignore_errors":true,"rules":{"files":[{"name":"security.rules","content":"rules_version = '2';\nservice cloud.firestore {\n  match /databases/{database}/documents {\n    match /{document=**} {\n      allow read, write: if false\n    }\n\n    match /cards/{cardId} {\n      function isCardInTheEnumFront() {\n        return request.resource.data.front in [\"h_ead\",\"p_ink\",\"w_ater\",\"a_lmighty\"];\n      }\n      function isCardInTheEnumBack() {\n        return request.resource.data.back in [\"t_ail\",\"p_ink\",\"w_ater\",\"a_lmighty\",\"h_ead\"];\n      }\n      function isCardInTheEnumCardType() {\n        return request.resource.data.cardType in [\"r_ibbon\",\"b_uchi\",\"s_hima\",\"f_ish\",\"d_okan\"];\n      }\n      function isEqualIDZero() {\n        return request.resource.id.split('_')[0] == \"0\"\n      }\n      function isEqualPointsZero() {\n        return request.resource.data.points == 0\n      }\n      function isEqualIDOne() {\n        return request.resource.id.split('_')[0] == \"1\"\n      }\n      function isEqualPointsOne() {\n        return request.resource.data.points == 1\n      }\n      function isEqualIDTwo() {\n        return request.resource.id.split('_')[0] == \"2\"\n      }\n      function isEqualPointsTwo() {\n        return request.resource.data.points == 2\n      }\n      function isEqualPointsAndID() {\n        return (isEqualIDZero() && isEqualPointsZero()) || (isEqualIDOne() && isEqualPointsOne()) || (isEqualIDTwo() && isEqualPointsTwo())\n      }\n      function isEqualFrontAndID() {\n        return request.resource.id.split('_')[1] == request.resource.data.front.split('_')[0]\n      }\n      function isEqualBackAndID() {\n        return request.resource.id.split('_')[2] == request.resource.data.back.split('_')[0]\n      }\n      function isEqualCardTypeAndID() {\n        return request.resource.id.split('_')[3] == request.resource.data.cardType.split('_')[0]\n      }\n      function isTrueInitiality() {\n        return request.resource.data.initiality == true\n      }\n      function isFalseInitiality() {\n        return request.resource.data.initiality == false\n      }\n      function hasCorrectInitiality() {\n        return (isTrueInitiality() && request.resource.id.split('_')[4] == \"i\") || (isFalseInitiality() && request.resource.id.split('_')[4] == \"n\")\n      }\n      function isSuccessfulCard() {\n        return isCardInTheEnumFront() && isCardInTheEnumBack() && isCardInTheEnumCardType() && isEqualPointsAndID() && isEqualFrontAndID() && isEqualBackAndID() && isEqualCardTypeAndID() && hasCorrectInitiality()\n      }\n\n      allow read: if true\n      allow create: if isSuccessfulCard()\n    }\n\n    match /tables/{tableId} {\n    \n      function isSuccessfulTable() {\n        return true\n      }\n      function isAllowedChangeForTable() {\n        return true\n      }\n\n      allow read: if true\n      allow create: if isSuccessfulTable()\n      allow update: if isSuccessfulTable() && isAllowedChangeForTable()\n      \n      match /deck/{deckCardId} {\n        function isSuccessfulDeckCard() {\n          return true\n        }\n\n        allow read: if true\n        allow create: if isSuccessfulDeckCard()\n      }\n\n      match /players/{prayerId} {\n        function isSuccessfulPlayer() {\n          return true\n        }\n\n        allow read: if true\n        allow create: if isSuccessfulPlayer()\n      \n    }\n  }\n}"}]}}
[debug] [2021-02-24T10:18:46.099Z] Feb 24, 2021 7:18:46 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Feb 24, 2021 7:18:46 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2021-02-24T10:18:46.198Z] <<< HTTP RESPONSE 200 {"content-type":"application/json","content-length":"480"}
[warn] ⚠  firestore.rules:97:2 - ERROR Unexpected '<EOF>'. 
[warn] ⚠  firestore.rules:97:2 - ERROR missing '}' at '<EOF>' 
[info] ✔  firestore: Rules updated. 
[info] i  firestore: Change detected, updating rules... 
[debug] [2021-02-24T10:18:47.147Z] >>> HTTP REQUEST PUT http://localhost:8080/emulator/v1/projects/nekonarabe-app:securityRules  
 {"ignore_errors":true,"rules":{"files":[{"name":"security.rules","content":"rules_version = '2';\nservice cloud.firestore {\n  match /databases/{database}/documents {\n    match /{document=**} {\n      allow read, write: if false\n    }\n\n    match /cards/{cardId} {\n      function isCardInTheEnumFront() {\n        return request.resource.data.front in [\"h_ead\",\"p_ink\",\"w_ater\",\"a_lmighty\"];\n      }\n      function isCardInTheEnumBack() {\n        return request.resource.data.back in [\"t_ail\",\"p_ink\",\"w_ater\",\"a_lmighty\",\"h_ead\"];\n      }\n      function isCardInTheEnumCardType() {\n        return request.resource.data.cardType in [\"r_ibbon\",\"b_uchi\",\"s_hima\",\"f_ish\",\"d_okan\"];\n      }\n      function isEqualIDZero() {\n        return request.resource.id.split('_')[0] == \"0\"\n      }\n      function isEqualPointsZero() {\n        return request.resource.data.points == 0\n      }\n      function isEqualIDOne() {\n        return request.resource.id.split('_')[0] == \"1\"\n      }\n      function isEqualPointsOne() {\n        return request.resource.data.points == 1\n      }\n      function isEqualIDTwo() {\n        return request.resource.id.split('_')[0] == \"2\"\n      }\n      function isEqualPointsTwo() {\n        return request.resource.data.points == 2\n      }\n      function isEqualPointsAndID() {\n        return (isEqualIDZero() && isEqualPointsZero()) || (isEqualIDOne() && isEqualPointsOne()) || (isEqualIDTwo() && isEqualPointsTwo())\n      }\n      function isEqualFrontAndID() {\n        return request.resource.id.split('_')[1] == request.resource.data.front.split('_')[0]\n      }\n      function isEqualBackAndID() {\n        return request.resource.id.split('_')[2] == request.resource.data.back.split('_')[0]\n      }\n      function isEqualCardTypeAndID() {\n        return request.resource.id.split('_')[3] == request.resource.data.cardType.split('_')[0]\n      }\n      function isTrueInitiality() {\n        return request.resource.data.initiality == true\n      }\n      function isFalseInitiality() {\n        return request.resource.data.initiality == false\n      }\n      function hasCorrectInitiality() {\n        return (isTrueInitiality() && request.resource.id.split('_')[4] == \"i\") || (isFalseInitiality() && request.resource.id.split('_')[4] == \"n\")\n      }\n      function isSuccessfulCard() {\n        return isCardInTheEnumFront() && isCardInTheEnumBack() && isCardInTheEnumCardType() && isEqualPointsAndID() && isEqualFrontAndID() && isEqualBackAndID() && isEqualCardTypeAndID() && hasCorrectInitiality()\n      }\n\n      allow read: if true\n      allow create: if isSuccessfulCard()\n    }\n\n    match /tables/{tableId} {\n    \n      function isSuccessfulTable() {\n        return true\n      }\n      function isAllowedChangeForTable() {\n        return true\n      }\n\n      allow read: if true\n      allow create: if isSuccessfulTable()\n      allow update: if isSuccessfulTable() && isAllowedChangeForTable()\n      \n      match /deck/{deckCardId} {\n        function isSuccessfulDeckCard() {\n          return true\n        }\n\n        allow read: if true\n        allow create: if isSuccessfulDeckCard()\n      }\n\n      match /players/{prayerId} {\n        function isSuccessfulPlayer() {\n          return true\n        }\n\n        allow read: if true\n        allow create: if isSuccessfulPlayer()\n      }\n    }\n  }\n}"}]}}
[debug] [2021-02-24T10:18:47.156Z] Feb 24, 2021 7:18:47 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Feb 24, 2021 7:18:47 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[info] i  firestore: Change detected, updating rules... 
[debug] [2021-02-24T10:18:47.244Z] >>> HTTP REQUEST PUT http://localhost:8080/emulator/v1/projects/nekonarabe-app:securityRules  
 {"ignore_errors":true,"rules":{"files":[{"name":"security.rules","content":"rules_version = '2';\nservice cloud.firestore {\n  match /databases/{database}/documents {\n    match /{document=**} {\n      allow read, write: if false\n    }\n\n    match /cards/{cardId} {\n      function isCardInTheEnumFront() {\n        return request.resource.data.front in [\"h_ead\",\"p_ink\",\"w_ater\",\"a_lmighty\"];\n      }\n      function isCardInTheEnumBack() {\n        return request.resource.data.back in [\"t_ail\",\"p_ink\",\"w_ater\",\"a_lmighty\",\"h_ead\"];\n      }\n      function isCardInTheEnumCardType() {\n        return request.resource.data.cardType in [\"r_ibbon\",\"b_uchi\",\"s_hima\",\"f_ish\",\"d_okan\"];\n      }\n      function isEqualIDZero() {\n        return request.resource.id.split('_')[0] == \"0\"\n      }\n      function isEqualPointsZero() {\n        return request.resource.data.points == 0\n      }\n      function isEqualIDOne() {\n        return request.resource.id.split('_')[0] == \"1\"\n      }\n      function isEqualPointsOne() {\n        return request.resource.data.points == 1\n      }\n      function isEqualIDTwo() {\n        return request.resource.id.split('_')[0] == \"2\"\n      }\n      function isEqualPointsTwo() {\n        return request.resource.data.points == 2\n      }\n      function isEqualPointsAndID() {\n        return (isEqualIDZero() && isEqualPointsZero()) || (isEqualIDOne() && isEqualPointsOne()) || (isEqualIDTwo() && isEqualPointsTwo())\n      }\n      function isEqualFrontAndID() {\n        return request.resource.id.split('_')[1] == request.resource.data.front.split('_')[0]\n      }\n      function isEqualBackAndID() {\n        return request.resource.id.split('_')[2] == request.resource.data.back.split('_')[0]\n      }\n      function isEqualCardTypeAndID() {\n        return request.resource.id.split('_')[3] == request.resource.data.cardType.split('_')[0]\n      }\n      function isTrueInitiality() {\n        return request.resource.data.initiality == true\n      }\n      function isFalseInitiality() {\n        return request.resource.data.initiality == false\n      }\n      function hasCorrectInitiality() {\n        return (isTrueInitiality() && request.resource.id.split('_')[4] == \"i\") || (isFalseInitiality() && request.resource.id.split('_')[4] == \"n\")\n      }\n      function isSuccessfulCard() {\n        return isCardInTheEnumFront() && isCardInTheEnumBack() && isCardInTheEnumCardType() && isEqualPointsAndID() && isEqualFrontAndID() && isEqualBackAndID() && isEqualCardTypeAndID() && hasCorrectInitiality()\n      }\n\n      allow read: if true\n      allow create: if isSuccessfulCard()\n    }\n\n    match /tables/{tableId} {\n    \n      function isSuccessfulTable() {\n        return true\n      }\n      function isAllowedChangeForTable() {\n        return true\n      }\n\n      allow read: if true\n      allow create: if isSuccessfulTable()\n      allow update: if isSuccessfulTable() && isAllowedChangeForTable()\n      \n      match /deck/{deckCardId} {\n        function isSuccessfulDeckCard() {\n          return true\n        }\n\n        allow read: if true\n        allow create: if isSuccessfulDeckCard()\n      }\n\n      match /players/{prayerId} {\n        function isSuccessfulPlayer() {\n          return true\n        }\n\n        allow read: if true\n        allow create: if isSuccessfulPlayer()\n      }\n    }\n  }\n}"}]}}
[debug] [2021-02-24T10:18:47.260Z] Feb 24, 2021 7:18:47 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Feb 24, 2021 7:18:47 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2021-02-24T10:18:48.419Z] <<< HTTP RESPONSE 200 {"content-type":"application/json","content-length":"4"}
[info] ✔  firestore: Rules updated. 
[debug] [2021-02-24T10:18:48.420Z] <<< HTTP RESPONSE 200 {"content-type":"application/json","content-length":"4"}
[info] ✔  firestore: Rules updated. 
